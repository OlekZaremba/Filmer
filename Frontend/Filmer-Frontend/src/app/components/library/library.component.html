<div class="bg">
  <div class="main-container">
    <div class="friends-component">
      <div class="filter-settings">
        <h2>{{ currentLanguage === 'polish' ? 'Filtry:' : 'Filters:' }}</h2>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'all'"
          (click)="filterFilms('all')">
          {{ currentLanguage === 'polish' ? 'Pokaż wszystkie' : 'Show all' }}
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Dramat'"
          (click)="filterFilms('Dramat')">
          {{ currentLanguage === 'polish' ? 'Dramat' : 'Drama' }}
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Komedia'"
          (click)="filterFilms('Komedia')">
          {{ currentLanguage === 'polish' ? 'Komedia' : 'Comedy' }}
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Horror'"
          (click)="filterFilms('Horror')">
          {{ currentLanguage === 'polish' ? 'Horror' : 'Horror' }}
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Thriller'"
          (click)="filterFilms('Thriller')">
          {{ currentLanguage === 'polish' ? 'Thriller' : 'Thriller' }}
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Psychologiczny'"
          (click)="filterFilms('Psychologiczny')">
          {{ currentLanguage === 'polish' ? 'Psychologiczny' : 'Psychological' }}
        </button>

        <h3>{{ currentLanguage === 'polish' ? 'Twój pomysł' : 'Your idea' }}</h3>
        <p>{{ currentLanguage === 'polish' ? 'Nie znalazłeś filmu dla siebie? Zaproponuj nam coś!' : 'Didn’t find a movie for yourself? Suggest one to us!' }}</p>
        <button class="add-button" (click)="openAddPopup()">
          {{ currentLanguage === 'polish' ? 'Zaproponuj swój film!' : 'Suggest your movie!' }}
        </button>
      </div>
      <div class="movie-list">
        <div class="search-movie">
          <input
            type="text"
            #searchInput
            [placeholder]="currentLanguage === 'polish' ? 'Wprowadź nazwę filmu...' : 'Enter the movie name...'" />
          <button (click)="searchFilmsByName(searchInput.value); searchInput.value = ''">
            <img src="assets/images/search.png" [alt]="currentLanguage === 'polish' ? 'Szukaj' : 'Search'">
          </button>
        </div>
        <ul>
          <li *ngFor="let film of filteredFilms">
            {{ film.filmName }}
            <button class="info-button" (click)="showFilmInfo(film.idFilm)">
              &#11157;
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <app-movie-popup
    *ngIf="selectedFilm"
    [isVisible]="isPopupVisible"
    [title]="selectedFilm.filmName"
    [description]="selectedFilm.filmDesc"
    (popupClosed)="closePopup()"
  ></app-movie-popup>

  <app-add-movie-popup
    *ngIf="isAddPopupVisible"
    (popupClosed)="closeAddPopup()"
    (movieAdded)="handleMovieAdded($event)"
  ></app-add-movie-popup>
</div>
