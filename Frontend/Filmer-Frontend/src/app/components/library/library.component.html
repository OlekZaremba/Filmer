<div class="bg">
  <div class="main-container">
    <div class="friends-component">
      <div class="filter-settings">
        <h2>Filtry:</h2>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'all'"
          (click)="filterFilms('all')"
        >
          Pokaż wszystkie
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Dramat'"
          (click)="filterFilms('Dramat')"
        >
          Dramat
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Komedia'"
          (click)="filterFilms('Komedia')"
        >
          Komedia
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Horror'"
          (click)="filterFilms('Horror')"
        >
          Horror
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Thriller'"
          (click)="filterFilms('Thriller')"
        >
          Thriller
        </button>
        <button
          class="filter-button"
          [class.active]="activeFilter === 'Psychologiczny'"
          (click)="filterFilms('Psychologiczny')"
        >
          Psychologiczny
        </button>
      </div>


      <div class="movie-list">
        <div class="search-movie">
          <input type="text" #searchInput placeholder="Wprowadź nazwę filmu..." />
          <button (click)="searchFilmsByName(searchInput.value); searchInput.value = ''">
            <img src="assets/images/search.png" alt="Szukaj">
          </button>
        </div>
        <ul>
          <li *ngFor="let film of filteredFilms">
            {{ film.filmName }}
            <button class="info-button" (click)="showFilmInfo(film.idFilm)">
              &#11157;
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <app-movie-popup
    *ngIf="selectedFilm"
    [isVisible]="isPopupVisible"
    [title]="selectedFilm.filmName"
    [description]="selectedFilm.filmDesc"
    (popupClosed)="closePopup()"
  ></app-movie-popup>
</div>
